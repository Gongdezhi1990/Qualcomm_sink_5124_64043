// -----------------------------------------------------------------------------
// Copyright (c) 2019                  Qualcomm Technologies International, Ltd.
//
#ifndef __COMPANDER_GEN_C_H__
#define __COMPANDER_GEN_C_H__

#ifndef ParamType
typedef unsigned ParamType;
#endif

// CodeBase IDs
#define COMPANDER_COMPANDER_CAP_ID	0x0092
#define COMPANDER_COMPANDER_ALT_CAP_ID_0	0x4057
#define COMPANDER_COMPANDER_SAMPLE_RATE	0
#define COMPANDER_COMPANDER_VERSION_MAJOR	1

// Constant Definitions
#define COMPANDER_CONSTANT_LEVEL_ESTIMATION_FLAG_RMS 		0x00000000
#define COMPANDER_CONSTANT_LEVEL_ESTIMATION_FLAG_Peak		0x00000001


// Runtime Config Parameter Bitfields
#define COMPANDER_CONFIG_BYPASS		0x00000001


// System Mode
#define COMPANDER_SYSMODE_STATIC   		0
#define COMPANDER_SYSMODE_MUTE     		1
#define COMPANDER_SYSMODE_FULL     		2
#define COMPANDER_SYSMODE_PASS_THRU		3
#define COMPANDER_SYSMODE_MAX_MODES		4

// System Control
#define COMPANDER_CONTROL_MODE_OVERRIDE		0x2000

// Statistics Block
typedef struct _tag_COMPANDER_STATISTICS
{
	ParamType OFFSET_CUR_MODE;
	ParamType OFFSET_OVR_CONTROL;
	ParamType OFFSET_COMPILED_CONFIG;
	ParamType OFFSET_OP_STATE;
	ParamType OFFSET_OP_INTERNAL_STATE;
	ParamType OFFSET_LOOKAHEAD_FLAG;
}COMPANDER_STATISTICS;

typedef COMPANDER_STATISTICS* LP_COMPANDER_STATISTICS;

// Parameters Block
typedef struct _tag_COMPANDER_PARAMETERS
{
	ParamType OFFSET_COMPANDER_CONFIG;
	ParamType OFFSET_NUM_SECTIONS;
	ParamType OFFSET_GAIN_RATIO_SECTION1;
	ParamType OFFSET_GAIN_RATIO_SECTION2;
	ParamType OFFSET_GAIN_RATIO_SECTION3;
	ParamType OFFSET_GAIN_RATIO_SECTION4;
	ParamType OFFSET_GAIN_RATIO_SECTION5;
	ParamType OFFSET_GAIN_THRESHOLD_SECTION1;
	ParamType OFFSET_GAIN_THRESHOLD_SECTION2;
	ParamType OFFSET_GAIN_THRESHOLD_SECTION3;
	ParamType OFFSET_GAIN_THRESHOLD_SECTION4;
	ParamType OFFSET_GAIN_THRESHOLD_SECTION5;
	ParamType OFFSET_GAIN_KNEEWIDTH_SECTION1;
	ParamType OFFSET_GAIN_KNEEWIDTH_SECTION2;
	ParamType OFFSET_GAIN_KNEEWIDTH_SECTION3;
	ParamType OFFSET_GAIN_KNEEWIDTH_SECTION4;
	ParamType OFFSET_GAIN_KNEEWIDTH_SECTION5;
	ParamType OFFSET_GAIN_ATTACK_TC;
	ParamType OFFSET_GAIN_RELEASE_TC;
	ParamType OFFSET_LEVEL_ATTACK_TC;
	ParamType OFFSET_LEVEL_RELEASE_TC;
	ParamType OFFSET_LEVEL_AVERAGE_TC;
	ParamType OFFSET_MAKEUP_GAIN;
	ParamType OFFSET_LOOKAHEAD_TIME;
	ParamType OFFSET_LEVEL_ESTIMATION_FLAG;
	ParamType OFFSET_GAIN_UPDATE_FLAG;
	ParamType OFFSET_GAIN_INTERP_FLAG;
	ParamType OFFSET_SOFT_KNEE_1_COEFF_A;
	ParamType OFFSET_SOFT_KNEE_1_COEFF_B;
	ParamType OFFSET_SOFT_KNEE_1_COEFF_C;
	ParamType OFFSET_SOFT_KNEE_2_COEFF_A;
	ParamType OFFSET_SOFT_KNEE_2_COEFF_B;
	ParamType OFFSET_SOFT_KNEE_2_COEFF_C;
	ParamType OFFSET_SOFT_KNEE_3_COEFF_A;
	ParamType OFFSET_SOFT_KNEE_3_COEFF_B;
	ParamType OFFSET_SOFT_KNEE_3_COEFF_C;
	ParamType OFFSET_SOFT_KNEE_4_COEFF_A;
	ParamType OFFSET_SOFT_KNEE_4_COEFF_B;
	ParamType OFFSET_SOFT_KNEE_4_COEFF_C;
	ParamType OFFSET_SOFT_KNEE_5_COEFF_A;
	ParamType OFFSET_SOFT_KNEE_5_COEFF_B;
	ParamType OFFSET_SOFT_KNEE_5_COEFF_C;
}COMPANDER_PARAMETERS;

typedef COMPANDER_PARAMETERS* LP_COMPANDER_PARAMETERS;

unsigned *COMPANDER_GetDefaults(unsigned capid);

#endif // __COMPANDER_GEN_C_H__
